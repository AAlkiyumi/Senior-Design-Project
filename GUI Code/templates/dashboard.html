<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data ScraperX</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <!-- Sidebar -->
    <div class="d-flex flex-column flex-shrink-0 p-3 bg-dark text-white vh-100 position-fixed sidebar" id="sidebar">
        <!-- Logo & Text-->
        <div class="text-center mb-3">
            <!-- <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="logo"> -->
            <h4 class="mt-2" style="margin-right: 10px;">Menu</h4>
        </div>

        <ul class="nav nav-pills flex-column mb-auto">
            <li>───────────────</li>
            <li class="nav-item"><a href="{{ url_for('dashboard') }}" class="nav-link text-white">🏠 Home</a></li>
            <li><a href="{{ url_for('search_page') }}" class="nav-link text-white">🔍 Search</a></li>
            <li><a href="{{ url_for('data_page') }}" class="nav-link text-white">📊 Data</a></li>
            <li><a href="{{ url_for('review_page') }}" class="nav-link text-white">⭐️ Reviews</a></li>
            <li>───────────────</li>
            <li><a href="{{ url_for('faq') }}" class="nav-link text-white">❓ FAQ</a></li>
            <li><a href="{{ url_for('about_us') }}" class="nav-link text-white">ℹ️ About Us</a></li>
            <li>───────────────</li>
        </ul>
        <!--
        <div class="mt-auto">
            <a href="{{ url_for('login') }}" class="btn btn-outline-light w-100">Log In</a>
            <a href="{{ url_for('register') }}" class="btn btn-primary w-100 mt-2">Sign Up</a>
        </div>
        -->
    </div>

    <!-- Main Content -->
    <div class="container-fluid main-content">
        <!-- Navbar (Thinner & Neutral Color) -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light px-3 shadow-sm" style="height: 50px;">
            <div class="container-fluid d-flex justify-content-between">
                <!-- Sidebar Toggle Button (Always Visible) -->
                <button class="btn btn-outline-secondary sidebar-toggle" onclick="toggleSidebar()">☰ Menu</button>
        
                <span class="navbar-brand fw-bold" style="font-size: 1.5rem;">Home</span>
        
                <!-- Profile Dropdown -->
                <div class="dropdown">
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        👤 {{ user.username }}
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end text-center" aria-labelledby="profileDropdown" style="min-width: 120px;">
                        <li><a class="dropdown-item" href="{{ url_for('profile') }}">My Profile</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('history') }}">History</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('settings') }}">Settings</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('logout') }}">Logout</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container mt-5">
            <h2 class="text-center text-primary">Welcome to Data ScraperX</h2>
            <p class="text-center lead"><strong>Easily scrape product data, analyze search results, and extract reviews in just a few clicks.</p>

            <!-- How It Works Section -->
            <div class="row mt-4">
                <div class="col-md-12 text-center">
                    <h5 class="mt-3"><strong>Step 1: Enter URLs</h5>
                    <p>Provide product URLs from Amazon, Best Buy, or other supported sites.</p>
                    <img src="{{ url_for('static', filename='images/step1.png') }}" alt="Step 1" class="img-fluid">
                    <h5 class="row mt-5"> </h5>
                </div>
                <div class="col-md-12 text-center">
                    <h5 class="mt-3"><strong>Step 2: Choose Options</h5>
                    <p>Select the number of pages and other filtering options that may apply.</p>
                    <img src="{{ url_for('static', filename='images/step2.png') }}" alt="Step 2" class="img-fluid">
                    <h5 class="row mt-5"> </h5>
                </div>
                <div class="col-md-12 text-center">
                    <h5 class="mt-3"><strong>Step 3: Scrape & Analyze</h5>
                    <p>Click "Scrape" to extract data and download results as CSV or Excel.</p>
                    <img src="{{ url_for('static', filename='images/step3.png') }}" alt="Step 3" class="img-fluid">
                    <h5 class="row mt-5"> </h5>
                </div>
            </div>

            <!-- Call to Action -->
            <div class="text-center mt-5">
                <p class="lead"><strong>Ready to get started? Choose a feature below:</p>
                <a href="{{ url_for('search_page') }}" class="btn btn-lg btn-primary ms-2">🔍 Search Products</a>
                <a href="{{ url_for('data_page') }}" class="btn btn-lg btn-success">📦 Scrape Products</a>
                <a href="{{ url_for('review_page') }}" class="btn btn-lg btn-warning ms-2">📝 Scrape Reviews</a>
            </div>   
        </div>

        <!-- Footer -->
        <footer>
            <!-- Logo & Text-->
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="logo">
            &copy; 2025 Data ScraperX. All rights reserved.
        </footer>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript for Sidebar & Dynamic Data -->
    <script>
        function toggleSidebar() {
            let sidebar = document.getElementById("sidebar");
            let content = document.querySelector(".main-content");
    
            sidebar.classList.toggle("hidden");
            content.classList.toggle("expanded");
        }

        // Fetching dynamic data
        document.addEventListener("DOMContentLoaded", function() {
            const productData = [
                { name: "Product A", category: "Electronics", price: "$199.99", availability: "In Stock" },
                { name: "Product B", category: "Home", price: "$24.99", availability: "Out of Stock" },
                { name: "Product C", category: "Clothing", price: "$49.99", availability: "In Stock" }
            ];

            const tableBody = document.getElementById("productTable");
            tableBody.innerHTML = productData.map(product => `
                <tr>
                    <td>${product.name}</td>
                    <td>${product.category}</td>
                    <td>${product.price}</td>
                    <td>${product.availability}</td>
                </tr>
            `).join('');
        });
    </script>

</body>
</html>
